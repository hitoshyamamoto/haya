f0b2271c07aa1f428a94566ba467faa5
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const templates_js_1 = require("../../core/templates.js");
(0, globals_1.describe)('DatabaseTemplates', () => {
    (0, globals_1.it)('should have getTemplate method', () => {
        (0, globals_1.expect)(typeof templates_js_1.DatabaseTemplates.getTemplate).toBe('function');
    });
    (0, globals_1.it)('should have getAllTemplates method', () => {
        (0, globals_1.expect)(typeof templates_js_1.DatabaseTemplates.getAllTemplates).toBe('function');
    });
    (0, globals_1.it)('should return all templates', () => {
        const templates = templates_js_1.DatabaseTemplates.getAllTemplates();
        (0, globals_1.expect)(templates instanceof Map).toBe(true);
        (0, globals_1.expect)(templates.size).toBeGreaterThan(0);
    });
    (0, globals_1.it)('should return PostgreSQL template', () => {
        const template = templates_js_1.DatabaseTemplates.getTemplate('postgresql');
        (0, globals_1.expect)(template).toBeDefined();
        (0, globals_1.expect)(template?.name).toBe('PostgreSQL');
        (0, globals_1.expect)(template?.engine.name).toBe('postgresql');
    });
    (0, globals_1.it)('should return MySQL template', () => {
        const template = templates_js_1.DatabaseTemplates.getTemplate('mariadb');
        (0, globals_1.expect)(template).toBeDefined();
        (0, globals_1.expect)(template?.name).toBe('MariaDB');
        (0, globals_1.expect)(template?.engine.name).toBe('mariadb');
    });
    (0, globals_1.it)('should return undefined for non-existent template', () => {
        const template = templates_js_1.DatabaseTemplates.getTemplate('nonexistent');
        (0, globals_1.expect)(template).toBeUndefined();
    });
    (0, globals_1.it)('should have all required template properties', () => {
        const template = templates_js_1.DatabaseTemplates.getTemplate('postgresql');
        (0, globals_1.expect)(template).toBeDefined();
        (0, globals_1.expect)(template?.name).toBeDefined();
        (0, globals_1.expect)(template?.engine).toBeDefined();
        (0, globals_1.expect)(template?.engine.name).toBeDefined();
        (0, globals_1.expect)(template?.engine.type).toBeDefined();
        (0, globals_1.expect)(template?.engine.image).toBeDefined();
        (0, globals_1.expect)(template?.engine.ports).toBeDefined();
        (0, globals_1.expect)(template?.engine.environment).toBeDefined();
        (0, globals_1.expect)(template?.engine.volumes).toBeDefined();
        (0, globals_1.expect)(template?.engine.healthcheck).toBeDefined();
    });
    (0, globals_1.it)('should include time series databases', () => {
        const influxTemplate = templates_js_1.DatabaseTemplates.getTemplate('influxdb');
        const timescaleTemplate = templates_js_1.DatabaseTemplates.getTemplate('timescaledb');
        (0, globals_1.expect)(influxTemplate).toBeDefined();
        (0, globals_1.expect)(influxTemplate?.engine.type).toBe('timeseries');
        (0, globals_1.expect)(timescaleTemplate).toBeDefined();
        (0, globals_1.expect)(timescaleTemplate?.engine.type).toBe('timeseries');
    });
    (0, globals_1.it)('should have correct database types', () => {
        const availableTypes = templates_js_1.DatabaseTemplates.getAvailableTypes();
        (0, globals_1.expect)(availableTypes).toContain('sql');
        (0, globals_1.expect)(availableTypes).toContain('keyvalue');
        (0, globals_1.expect)(availableTypes).toContain('vector');
        (0, globals_1.expect)(availableTypes).toContain('timeseries');
    });
    (0, globals_1.it)('should return engines by type', () => {
        const sqlEngines = templates_js_1.DatabaseTemplates.getEnginesByType('sql');
        (0, globals_1.expect)(sqlEngines).toContain('postgresql');
        (0, globals_1.expect)(sqlEngines).toContain('mariadb');
        const timeseriesEngines = templates_js_1.DatabaseTemplates.getEnginesByType('timeseries');
        (0, globals_1.expect)(timeseriesEngines).toContain('influxdb');
        (0, globals_1.expect)(timeseriesEngines).toContain('timescaledb');
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvaGl0b3NoaS9Eb2N1bWVudHMvZ2l0aHViL2hpdG9zaHlhbWFtb3RvL2hheWEvc3JjL3Rlc3RzL3VuaXQvdGVtcGxhdGVzLnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSwyQ0FBcUQ7QUFDckQsMERBQTREO0FBRTVELElBQUEsa0JBQVEsRUFBQyxtQkFBbUIsRUFBRSxHQUFHLEVBQUU7SUFDakMsSUFBQSxZQUFFLEVBQUMsZ0NBQWdDLEVBQUUsR0FBRyxFQUFFO1FBQ3hDLElBQUEsZ0JBQU0sRUFBQyxPQUFPLGdDQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNoRSxDQUFDLENBQUMsQ0FBQztJQUVILElBQUEsWUFBRSxFQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtRQUM1QyxJQUFBLGdCQUFNLEVBQUMsT0FBTyxnQ0FBaUIsQ0FBQyxlQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDcEUsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLFlBQUUsRUFBQyw2QkFBNkIsRUFBRSxHQUFHLEVBQUU7UUFDckMsTUFBTSxTQUFTLEdBQUcsZ0NBQWlCLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDdEQsSUFBQSxnQkFBTSxFQUFDLFNBQVMsWUFBWSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUMsSUFBQSxnQkFBTSxFQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUMsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLFlBQUUsRUFBQyxtQ0FBbUMsRUFBRSxHQUFHLEVBQUU7UUFDM0MsTUFBTSxRQUFRLEdBQUcsZ0NBQWlCLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQzdELElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUMvQixJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMxQyxJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDbkQsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLFlBQUUsRUFBQyw4QkFBOEIsRUFBRSxHQUFHLEVBQUU7UUFDdEMsTUFBTSxRQUFRLEdBQUcsZ0NBQWlCLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFELElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUMvQixJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN2QyxJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDaEQsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLFlBQUUsRUFBQyxtREFBbUQsRUFBRSxHQUFHLEVBQUU7UUFDM0QsTUFBTSxRQUFRLEdBQUcsZ0NBQWlCLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQzlELElBQUEsZ0JBQU0sRUFBQyxRQUFRLENBQUMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUNuQyxDQUFDLENBQUMsQ0FBQztJQUVILElBQUEsWUFBRSxFQUFDLDhDQUE4QyxFQUFFLEdBQUcsRUFBRTtRQUN0RCxNQUFNLFFBQVEsR0FBRyxnQ0FBaUIsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDN0QsSUFBQSxnQkFBTSxFQUFDLFFBQVEsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQy9CLElBQUEsZ0JBQU0sRUFBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDckMsSUFBQSxnQkFBTSxFQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN2QyxJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM1QyxJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM1QyxJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM3QyxJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM3QyxJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuRCxJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUMvQyxJQUFBLGdCQUFNLEVBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNyRCxDQUFDLENBQUMsQ0FBQztJQUVILElBQUEsWUFBRSxFQUFDLHNDQUFzQyxFQUFFLEdBQUcsRUFBRTtRQUM5QyxNQUFNLGNBQWMsR0FBRyxnQ0FBaUIsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDakUsTUFBTSxpQkFBaUIsR0FBRyxnQ0FBaUIsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFdkUsSUFBQSxnQkFBTSxFQUFDLGNBQWMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3JDLElBQUEsZ0JBQU0sRUFBQyxjQUFjLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUV2RCxJQUFBLGdCQUFNLEVBQUMsaUJBQWlCLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN4QyxJQUFBLGdCQUFNLEVBQUMsaUJBQWlCLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM1RCxDQUFDLENBQUMsQ0FBQztJQUVILElBQUEsWUFBRSxFQUFDLG9DQUFvQyxFQUFFLEdBQUcsRUFBRTtRQUM1QyxNQUFNLGNBQWMsR0FBRyxnQ0FBaUIsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQzdELElBQUEsZ0JBQU0sRUFBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEMsSUFBQSxnQkFBTSxFQUFDLGNBQWMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3QyxJQUFBLGdCQUFNLEVBQUMsY0FBYyxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzNDLElBQUEsZ0JBQU0sRUFBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDakQsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLFlBQUUsRUFBQywrQkFBK0IsRUFBRSxHQUFHLEVBQUU7UUFDdkMsTUFBTSxVQUFVLEdBQUcsZ0NBQWlCLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0QsSUFBQSxnQkFBTSxFQUFDLFVBQVUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUMzQyxJQUFBLGdCQUFNLEVBQUMsVUFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBRXhDLE1BQU0saUJBQWlCLEdBQUcsZ0NBQWlCLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDM0UsSUFBQSxnQkFBTSxFQUFDLGlCQUFpQixDQUFDLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ2hELElBQUEsZ0JBQU0sRUFBQyxpQkFBaUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL2hpdG9zaGkvRG9jdW1lbnRzL2dpdGh1Yi9oaXRvc2h5YW1hbW90by9oYXlhL3NyYy90ZXN0cy91bml0L3RlbXBsYXRlcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlc2NyaWJlLCBpdCwgZXhwZWN0IH0gZnJvbSAnQGplc3QvZ2xvYmFscyc7XHJcbmltcG9ydCB7IERhdGFiYXNlVGVtcGxhdGVzIH0gZnJvbSAnLi4vLi4vY29yZS90ZW1wbGF0ZXMuanMnO1xyXG5cclxuZGVzY3JpYmUoJ0RhdGFiYXNlVGVtcGxhdGVzJywgKCkgPT4ge1xyXG4gIGl0KCdzaG91bGQgaGF2ZSBnZXRUZW1wbGF0ZSBtZXRob2QnLCAoKSA9PiB7XHJcbiAgICBleHBlY3QodHlwZW9mIERhdGFiYXNlVGVtcGxhdGVzLmdldFRlbXBsYXRlKS50b0JlKCdmdW5jdGlvbicpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhdmUgZ2V0QWxsVGVtcGxhdGVzIG1ldGhvZCcsICgpID0+IHtcclxuICAgIGV4cGVjdCh0eXBlb2YgRGF0YWJhc2VUZW1wbGF0ZXMuZ2V0QWxsVGVtcGxhdGVzKS50b0JlKCdmdW5jdGlvbicpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJldHVybiBhbGwgdGVtcGxhdGVzJywgKCkgPT4ge1xyXG4gICAgY29uc3QgdGVtcGxhdGVzID0gRGF0YWJhc2VUZW1wbGF0ZXMuZ2V0QWxsVGVtcGxhdGVzKCk7XHJcbiAgICBleHBlY3QodGVtcGxhdGVzIGluc3RhbmNlb2YgTWFwKS50b0JlKHRydWUpO1xyXG4gICAgZXhwZWN0KHRlbXBsYXRlcy5zaXplKS50b0JlR3JlYXRlclRoYW4oMCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcmV0dXJuIFBvc3RncmVTUUwgdGVtcGxhdGUnLCAoKSA9PiB7XHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IERhdGFiYXNlVGVtcGxhdGVzLmdldFRlbXBsYXRlKCdwb3N0Z3Jlc3FsJyk7XHJcbiAgICBleHBlY3QodGVtcGxhdGUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBleHBlY3QodGVtcGxhdGU/Lm5hbWUpLnRvQmUoJ1Bvc3RncmVTUUwnKTtcclxuICAgIGV4cGVjdCh0ZW1wbGF0ZT8uZW5naW5lLm5hbWUpLnRvQmUoJ3Bvc3RncmVzcWwnKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gTXlTUUwgdGVtcGxhdGUnLCAoKSA9PiB7XHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IERhdGFiYXNlVGVtcGxhdGVzLmdldFRlbXBsYXRlKCdtYXJpYWRiJyk7XHJcbiAgICBleHBlY3QodGVtcGxhdGUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBleHBlY3QodGVtcGxhdGU/Lm5hbWUpLnRvQmUoJ01hcmlhREInKTtcclxuICAgIGV4cGVjdCh0ZW1wbGF0ZT8uZW5naW5lLm5hbWUpLnRvQmUoJ21hcmlhZGInKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCByZXR1cm4gdW5kZWZpbmVkIGZvciBub24tZXhpc3RlbnQgdGVtcGxhdGUnLCAoKSA9PiB7XHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IERhdGFiYXNlVGVtcGxhdGVzLmdldFRlbXBsYXRlKCdub25leGlzdGVudCcpO1xyXG4gICAgZXhwZWN0KHRlbXBsYXRlKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGF2ZSBhbGwgcmVxdWlyZWQgdGVtcGxhdGUgcHJvcGVydGllcycsICgpID0+IHtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gRGF0YWJhc2VUZW1wbGF0ZXMuZ2V0VGVtcGxhdGUoJ3Bvc3RncmVzcWwnKTtcclxuICAgIGV4cGVjdCh0ZW1wbGF0ZSkudG9CZURlZmluZWQoKTtcclxuICAgIGV4cGVjdCh0ZW1wbGF0ZT8ubmFtZSkudG9CZURlZmluZWQoKTtcclxuICAgIGV4cGVjdCh0ZW1wbGF0ZT8uZW5naW5lKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgZXhwZWN0KHRlbXBsYXRlPy5lbmdpbmUubmFtZSkudG9CZURlZmluZWQoKTtcclxuICAgIGV4cGVjdCh0ZW1wbGF0ZT8uZW5naW5lLnR5cGUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBleHBlY3QodGVtcGxhdGU/LmVuZ2luZS5pbWFnZSkudG9CZURlZmluZWQoKTtcclxuICAgIGV4cGVjdCh0ZW1wbGF0ZT8uZW5naW5lLnBvcnRzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgZXhwZWN0KHRlbXBsYXRlPy5lbmdpbmUuZW52aXJvbm1lbnQpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBleHBlY3QodGVtcGxhdGU/LmVuZ2luZS52b2x1bWVzKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgZXhwZWN0KHRlbXBsYXRlPy5lbmdpbmUuaGVhbHRoY2hlY2spLnRvQmVEZWZpbmVkKCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaW5jbHVkZSB0aW1lIHNlcmllcyBkYXRhYmFzZXMnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBpbmZsdXhUZW1wbGF0ZSA9IERhdGFiYXNlVGVtcGxhdGVzLmdldFRlbXBsYXRlKCdpbmZsdXhkYicpO1xyXG4gICAgY29uc3QgdGltZXNjYWxlVGVtcGxhdGUgPSBEYXRhYmFzZVRlbXBsYXRlcy5nZXRUZW1wbGF0ZSgndGltZXNjYWxlZGInKTtcclxuICAgIFxyXG4gICAgZXhwZWN0KGluZmx1eFRlbXBsYXRlKS50b0JlRGVmaW5lZCgpO1xyXG4gICAgZXhwZWN0KGluZmx1eFRlbXBsYXRlPy5lbmdpbmUudHlwZSkudG9CZSgndGltZXNlcmllcycpO1xyXG4gICAgXHJcbiAgICBleHBlY3QodGltZXNjYWxlVGVtcGxhdGUpLnRvQmVEZWZpbmVkKCk7XHJcbiAgICBleHBlY3QodGltZXNjYWxlVGVtcGxhdGU/LmVuZ2luZS50eXBlKS50b0JlKCd0aW1lc2VyaWVzJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IGRhdGFiYXNlIHR5cGVzJywgKCkgPT4ge1xyXG4gICAgY29uc3QgYXZhaWxhYmxlVHlwZXMgPSBEYXRhYmFzZVRlbXBsYXRlcy5nZXRBdmFpbGFibGVUeXBlcygpO1xyXG4gICAgZXhwZWN0KGF2YWlsYWJsZVR5cGVzKS50b0NvbnRhaW4oJ3NxbCcpO1xyXG4gICAgZXhwZWN0KGF2YWlsYWJsZVR5cGVzKS50b0NvbnRhaW4oJ2tleXZhbHVlJyk7XHJcbiAgICBleHBlY3QoYXZhaWxhYmxlVHlwZXMpLnRvQ29udGFpbigndmVjdG9yJyk7XHJcbiAgICBleHBlY3QoYXZhaWxhYmxlVHlwZXMpLnRvQ29udGFpbigndGltZXNlcmllcycpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJldHVybiBlbmdpbmVzIGJ5IHR5cGUnLCAoKSA9PiB7XHJcbiAgICBjb25zdCBzcWxFbmdpbmVzID0gRGF0YWJhc2VUZW1wbGF0ZXMuZ2V0RW5naW5lc0J5VHlwZSgnc3FsJyk7XHJcbiAgICBleHBlY3Qoc3FsRW5naW5lcykudG9Db250YWluKCdwb3N0Z3Jlc3FsJyk7XHJcbiAgICBleHBlY3Qoc3FsRW5naW5lcykudG9Db250YWluKCdtYXJpYWRiJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRpbWVzZXJpZXNFbmdpbmVzID0gRGF0YWJhc2VUZW1wbGF0ZXMuZ2V0RW5naW5lc0J5VHlwZSgndGltZXNlcmllcycpO1xyXG4gICAgZXhwZWN0KHRpbWVzZXJpZXNFbmdpbmVzKS50b0NvbnRhaW4oJ2luZmx1eGRiJyk7XHJcbiAgICBleHBlY3QodGltZXNlcmllc0VuZ2luZXMpLnRvQ29udGFpbigndGltZXNjYWxlZGInKTtcclxuICB9KTtcclxufSk7ICJdLCJ2ZXJzaW9uIjozfQ==